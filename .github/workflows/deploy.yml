# name: Deploy Astro Site to omaradigital.com

# on:
#   push:
#     branches: [ 1-deploy-to-custom-url ]   # auto-deploy on any push to this branch
#     # No tags for automatic deploys; old main branch workflow still handles tags
#   workflow_dispatch:                        # allows manual trigger

# permissions:
#   contents: read
#   pages: write
#   id-token: write

# jobs:
#   build:
#     runs-on: ubuntu-latest
#     env:
#       NODE_ENV: production
#     steps:
#       - name: Checkout your repository using git
#         uses: actions/checkout@v5
        
#       - name: Install, build, and upload your site
#         uses: withastro/action@v5
#         with:
#           path: .                       # root of your Astro project
#           node-version: 24
#           package-manager: pnpm@latest
#           build-cmd: pnpm run build
#         env:
#           PUBLIC_POKEAPI: 'https://pokeapi.co/api/v2' # optional env

#   deploy:
#     needs: build
#     runs-on: ubuntu-latest
#     environment:
#       name: github-pages
#       url: ${{ steps.deployment.outputs.page_url }}
#     steps:
#       - name: Deploy to GitHub Pages
#         id: deployment
#         uses: actions/deploy-pages@v4
#         with:
#           folder: dist   # only specify the folder; branch is set in repo Pages settings
